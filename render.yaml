services:
  - type: web
    name: currency-converter-flask
    env: python
    buildCommand: "pip install -r requirements.txt"
    startCommand: "flask run --host=0.0.0.0 --port=5000"  # Ensures Flask app starts
    envVars:
      - key: FLASK_ENV
        value: production

  - type: background
    name: tcp-server
    env: python
    buildCommand: "pip install -r requirements.txt"
    startCommand: "python tcp_server.py"  # Runs TCP server

  - type: background
    name: udp-server
    env: python
    buildCommand: "pip install -r requirements.txt"
    startCommand: "python udp_server.py"  # Runs UDP server
